#!/bin/bash

echo "Enter the target domain:"
read target_domain

# DNS zone transfer
echo "Performing DNS zone transfer..."
dig axfr $target_domain > dns_zone_transfer.txt
echo "Results saved to dns_zone_transfer.txt"

# Passive DNS monitoring
echo "Performing passive DNS monitoring..."
passivedns -R $target_domain > passive_dns_monitoring.txt
echo "Results saved to passive_dns_monitoring.txt"

# Brute-force DNS subdomains
echo "Brute-forcing DNS subdomains with Sublist3r..."
sublist3r -d $target_domain > sublist3r_bruteforce.txt
echo "Results saved to sublist3r_bruteforce.txt"

echo "Brute-forcing DNS subdomains with DNSRecon..."
dnsrecon -d $target_domain -t brt > dnsrecon_bruteforce.txt
echo "Results saved to dnsrecon_bruteforce.txt"

# Reverse DNS lookup
echo "Enter the IP range for reverse DNS lookup (e.g., 192.168.1.0/24):"
read ip_range

echo "Performing reverse DNS lookup..."
nmap -sL -p 53 -oG - $ip_range | awk '/Host/{print $2}' | xargs -I% host % > reverse_dns_lookup.txt
echo "Results saved to reverse_dns_lookup.txt"

echo "Script completed."